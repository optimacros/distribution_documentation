# Изменение SSL сертификата Логин Центра

`LC_DIR`: Логин центр установлен в `/om/login-center` (Ваша директория может быть другой)

SSL Сертификат в формате `x509` находится в директории логин центра `<LC_DIR>/data/nginx/cert`

Название файла сертификата: `bundle.crt`

Название файла ключа: `crt.key`

После подмены сертификата и ключа нужно перезагрузить веб-сервер

Переходим в директорию с установленным логин центром `<LC_DIR>`

Запускаем команду для перезагрузки веб-сервера:
```
docker restart optimacros_nginx
```

Идем в браузер смотреть результат

## Перестал работать веб сервер :(

Из-за некоректного сертификата веб-сервер может не запуститься, 
в этом случае необходимо произвести отладку проблемы

Читаем последние логи и анализируем проблему:
```
docker logs -f optimacros_nginx
```

### Если команда `docker logs` выдает ошибку

```
Error response from daemon: configured logging driver does not support reading
```

Меняем тип драйвера логирования, для этого редактируем файл docker-compose `<LC_DIR>/app/web/docker-compose.yml`

Файл в формате `yml`, находим секцию `nginx` и меняем в под-секции `logging`, значение свойства `driver` на `local`

Сохраняем файл и запускаем команду для перезагрузки веб-сервера:
```
docker restart optimacros_nginx
```

Читаем последние логи и анализируем проблему:
```
docker logs -f optimacros_nginx
```
