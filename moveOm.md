# Переезд Optimacros:

Для перемещения Optimacros с сервера A на сервер B, нам нужно в первую очередь
остановить сервисы Optimacros.

На сервере A выполняем команду:

```/om/workspace-installer/current/install workspace --path /om/workspace1/manifest.json shutdown```  <= остановка
работы воркспейса

Затем останавливаем Логин центр, для этого переходим в директорию где он расположен, обычно это
```/om/login-center``` и выполняем команду:

```./om stop``` <= остановка работы логин центра

Далее мы должны осуществить полный перенос на новый сервер, содержимого
директорий:
```
/om/login-center/
/om/workspace1/
/om/workspace-installers/
```

Если нет вариантов сделать это никак кроме как через ssh соединение, то это можно сделать с помощью rsync, команда выглядит вот так:

```rsync -avz --progress /src_folder/ root10.112.1.16@:/dest_folder```

Где src_folder директория на сервере А с которого мы хотим перенести директорию, root10.112.1.16 это пользователь и IP для подключения к серверу B через ssh dest_folder это папка на новом сервере.

После переноса на новый сервер B файлов optimacros, нам нужно подготовить сервер B к запуску optimacros, установив docker по инструкции с официального сайта (https://docs.docker.com/engine/install/). И так же необходимый софт для работы воркспейса, у нас имеются инструкции под различные дистрибутивы linux вот [>>> ЗДЕСЬ <<<](softInstallWs.md)

Далее рекомендуется перенести директории данных lxc и docker в тот же раздел в котором будет установлен Optimacros, потому что по дефолту они находятся в рутовом разделе, что может привести к проблемам если они станут занимать внушительное количество места, инструкция [>>> ЗДЕСЬ <<<](dockerAndLxcChangeDataFolder.md)

После этого мы можем перейти в директорию с перенесенным Логин центром на сервере B и запустить его:

```./om start``` <= запуск работы логин центра

И затем запускаем сам воркспейс:

```/om/workspace-installer/current/install workspace --path /om/workspace1/manifest.json up```  <= остановка
работы воркспейса


[Вернуться к содержанию <](contents.md)

[Вернуться к оглавлению <<](index.md)